{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/main/.schema/devbox.schema.json",
  "packages": [
    "python@3.14.0",
    "postgresql_18@18.1",
    "redis@8.2.2"
  ],
  "shell": {
    "init_hook": [
      "echo 'Crosswords Analytics API environment ready!'",
      "echo 'Python:' $(python --version)",
      "echo 'PostgreSQL:' $(postgres --version | head -1)",
      "echo 'Redis:' $(redis-server --version)",
      "source $VENV_DIR/bin/activate",
      "pip install --upgrade pip -q",
      "if [ -f requirements.txt ]; then pip install -r requirements.txt -q && echo 'Dependencies installed!'; fi"
    ],
    "scripts": {
      "dev": "uvicorn app.main:app --reload --host 0.0.0.0 --port 8000",
      "test": "pytest -v",
      "lint": "ruff check .",
      "format": "ruff format ."
    }
  },
  "env": {
    "PYTHONUNBUFFERED": "1",
    "DATABASE_URL": "postgresql://crossword:crosswords_password@localhost:5432/crossword_db"
  }
}
